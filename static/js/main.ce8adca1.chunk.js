(this.webpackJsonpdemotest=this.webpackJsonpdemotest||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var o=n(7),a=n.n(o),i=n(12),s=n.n(i),r=(n(18),n.p,n(19),n(5));var c=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),o(e),a(e),i(e),s(e)}))},l=n(0),m=n(3),d=n(1),h=n(2),u=n(6),p=function(e,t){this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new u.q,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:u.f.LEFT,MIDDLE:u.f.MIDDLE,RIGHT:u.f.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(o),n.update(),r=s.NONE},this.update=function(){var t=new u.q,a=(new u.l).setFromUnitVectors(e.up,new u.q(0,1,0)),i=a.clone().inverse(),b=new u.q,f=new u.l;return function(){var e=n.object.position;return t.copy(e).sub(n.target),t.applyQuaternion(a),l.setFromVector3(t),n.autoRotate&&r===s.NONE&&C(2*Math.PI/60/60*n.autoRotateSpeed),l.theta+=m.theta,l.phi+=m.phi,l.theta=Math.max(n.minAzimuthAngle,Math.min(n.maxAzimuthAngle,l.theta)),l.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=d,l.radius=Math.max(n.minDistance,Math.min(n.maxDistance,l.radius)),n.target.add(h),t.setFromSpherical(l),t.applyQuaternion(i),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(m.theta*=1-n.dampingFactor,m.phi*=1-n.dampingFactor,h.multiplyScalar(1-n.dampingFactor)):(m.set(0,0,0),h.set(0,0,0)),d=1,!!(p||b.distanceToSquared(n.object.position)>c||8*(1-f.dot(n.object.quaternion))>c)&&(n.dispatchEvent(o),b.copy(n.object.position),f.copy(n.object.quaternion),p=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",U,!1),n.domElement.removeEventListener("mousedown",N,!1),n.domElement.removeEventListener("wheel",A,!1),n.domElement.removeEventListener("touchstart",F,!1),n.domElement.removeEventListener("touchend",Y,!1),n.domElement.removeEventListener("touchmove",I,!1),document.removeEventListener("mousemove",D,!1),document.removeEventListener("mouseup",L,!1),window.removeEventListener("keydown",H,!1)};var n=this,o={type:"change"},a={type:"start"},i={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},r=s.NONE,c=1e-6,l=new u.o,m=new u.o,d=1,h=new u.q,p=!1,b=new u.p,f=new u.p,w=new u.p,g=new u.p,E=new u.p,y=new u.p,v=new u.p,O=new u.p,j=new u.p;function P(){return Math.pow(.95,n.zoomSpeed)}function C(e){m.theta-=e}function S(e){m.phi-=e}var M=function(){var e=new u.q;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),h.add(e)}}(),R=function(){var e=new u.q;return function(t,o){!0===n.screenSpacePanning?e.setFromMatrixColumn(o,1):(e.setFromMatrixColumn(o,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),h.add(e)}}(),T=function(){var e=new u.q;return function(t,o){var a=n.domElement===document?n.domElement.body:n.domElement;if(n.object.isPerspectiveCamera){var i=n.object.position;e.copy(i).sub(n.target);var s=e.length();s*=Math.tan(n.object.fov/2*Math.PI/180),M(2*t*s/a.clientHeight,n.object.matrix),R(2*o*s/a.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(M(t*(n.object.right-n.object.left)/n.object.zoom/a.clientWidth,n.object.matrix),R(o*(n.object.top-n.object.bottom)/n.object.zoom/a.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function x(e){n.object.isPerspectiveCamera?d/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function z(e){n.object.isPerspectiveCamera?d*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function k(e){g.set(e.clientX,e.clientY)}function N(e){if(!1!==n.enabled){switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case n.mouseButtons.LEFT:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;k(e),r=s.PAN}else{if(!1===n.enableRotate)return;!function(e){b.set(e.clientX,e.clientY)}(e),r=s.ROTATE}break;case n.mouseButtons.MIDDLE:if(!1===n.enableZoom)return;!function(e){v.set(e.clientX,e.clientY)}(e),r=s.DOLLY;break;case n.mouseButtons.RIGHT:if(!1===n.enablePan)return;k(e),r=s.PAN}r!==s.NONE&&(document.addEventListener("mousemove",D,!1),document.addEventListener("mouseup",L,!1),n.dispatchEvent(a))}}function D(e){if(!1!==n.enabled)switch(e.preventDefault(),r){case s.ROTATE:if(!1===n.enableRotate)return;!function(e){f.set(e.clientX,e.clientY),w.subVectors(f,b).multiplyScalar(n.rotateSpeed);var t=n.domElement===document?n.domElement.body:n.domElement;C(2*Math.PI*w.x/t.clientHeight),S(2*Math.PI*w.y/t.clientHeight),b.copy(f),n.update()}(e);break;case s.DOLLY:if(!1===n.enableZoom)return;!function(e){O.set(e.clientX,e.clientY),j.subVectors(O,v),j.y>0?x(P()):j.y<0&&z(P()),v.copy(O),n.update()}(e);break;case s.PAN:if(!1===n.enablePan)return;!function(e){E.set(e.clientX,e.clientY),y.subVectors(E,g).multiplyScalar(n.panSpeed),T(y.x,y.y),g.copy(E),n.update()}(e)}}function L(e){!1!==n.enabled&&(document.removeEventListener("mousemove",D,!1),document.removeEventListener("mouseup",L,!1),n.dispatchEvent(i),r=s.NONE)}function A(e){!1===n.enabled||!1===n.enableZoom||r!==s.NONE&&r!==s.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(a),function(e){e.deltaY<0?z(P()):e.deltaY>0&&x(P()),n.update()}(e),n.dispatchEvent(i))}function H(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&function(e){switch(e.preventDefault(),e.keyCode){case n.keys.UP:T(0,n.keyPanSpeed),n.update();break;case n.keys.BOTTOM:T(0,-n.keyPanSpeed),n.update();break;case n.keys.LEFT:T(n.keyPanSpeed,0),n.update();break;case n.keys.RIGHT:T(-n.keyPanSpeed,0),n.update()}}(e)}function F(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:if(!1===n.enableRotate)return;!function(e){b.set(e.touches[0].pageX,e.touches[0].pageY)}(e),r=s.TOUCH_ROTATE;break;case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){if(n.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+o*o);v.set(0,a)}if(n.enablePan){var i=.5*(e.touches[0].pageX+e.touches[1].pageX),s=.5*(e.touches[0].pageY+e.touches[1].pageY);g.set(i,s)}}(e),r=s.TOUCH_DOLLY_PAN;break;default:r=s.NONE}r!==s.NONE&&n.dispatchEvent(a)}}function I(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===n.enableRotate)return;if(r!==s.TOUCH_ROTATE)return;!function(e){f.set(e.touches[0].pageX,e.touches[0].pageY),w.subVectors(f,b).multiplyScalar(n.rotateSpeed);var t=n.domElement===document?n.domElement.body:n.domElement;C(2*Math.PI*w.x/t.clientHeight),S(2*Math.PI*w.y/t.clientHeight),b.copy(f),n.update()}(e);break;case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;if(r!==s.TOUCH_DOLLY_PAN)return;!function(e){if(n.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+o*o);O.set(0,a),j.set(0,Math.pow(O.y/v.y,n.zoomSpeed)),x(j.y),v.copy(O)}if(n.enablePan){var i=.5*(e.touches[0].pageX+e.touches[1].pageX),s=.5*(e.touches[0].pageY+e.touches[1].pageY);E.set(i,s),y.subVectors(E,g).multiplyScalar(n.panSpeed),T(y.x,y.y),g.copy(E)}n.update()}(e);break;default:r=s.NONE}}function Y(e){!1!==n.enabled&&(n.dispatchEvent(i),r=s.NONE)}function U(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",U,!1),n.domElement.addEventListener("mousedown",N,!1),n.domElement.addEventListener("wheel",A,!1),n.domElement.addEventListener("touchstart",F,!1),n.domElement.addEventListener("touchend",Y,!1),n.domElement.addEventListener("touchmove",I,!1),window.addEventListener("keydown",H,!1),this.update()};(p.prototype=Object.create(u.d.prototype)).constructor=p,Object.defineProperties(p.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}});var b=p,f=n(13),w=n.n(f),g=(o.Component,o.Component,function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(l.a)(this,n),(o=t.call(this,e)).resizeFrontView=function(){o.cameraControl2||(o.cameraControl2=new b(o.camera2,o.renderer2.domElement)),o.cameraControl2.enableRotate=!1,o.renderer2.setSize(o.state.frontViewSize.w-1,o.state.frontViewSize.h-1)},o.resizeSideView=function(){o.cameraControl3||(o.cameraControl3=new b(o.camera3,o.renderer3.domElement)),o.cameraControl3.enableRotate=!1,o.renderer3.setSize(o.state.sideViewSize.w-1,o.state.sideViewSize.h-1)},o.resizeTopView=function(){o.cameraControl4||(o.cameraControl4=new b(o.camera4,o.renderer4.domElement)),o.cameraControl4.enableRotate=!1,o.renderer4.setSize(o.state.topViewSize.w-1,o.state.topViewSize.h-1)},o.deployState=function(){o.stats=new w.a,o.stats.setMode(0),o.stats.domElement.style.position="absolute",o.mainBody.appendChild(o.stats.domElement)},o.animate=function(){o.stats.begin(),o.renderer.render(o.scene,o.camera1),o.mesh1.rotation.x+=o.state.rotationMesh1.x,o.mesh1.rotation.y+=o.state.rotationMesh1.y,o.mesh1.rotation.z+=o.state.rotationMesh1.z,o.mesh2.rotation.x+=o.state.rotationMesh2.x,o.mesh2.rotation.y+=o.state.rotationMesh2.y,o.mesh2.rotation.z+=o.state.rotationMesh2.z,o.stats.end(),window.requestAnimationFrame(o.animate)},o.createPlane=function(e,t,n,a,i,s){var r=new u.i({color:255,side:u.b}),c=new u.k(t,n);switch(e){case 1:o.mesh1=new u.h(c,r),o.mesh1.position.copy(i),o.mesh1.name="plain1",o.scene.add(o.mesh1);break;case 2:o.mesh2=new u.h(c,r),o.mesh2.position.copy(i),o.mesh2.name="plain2",o.scene.add(o.mesh2)}},o.showContainerClick=function(){o.setState({showContainer:[1,2,3,4,5]},(function(){o.setState({showContainer:null})}))},o.threeDLayerMouseDown=function(e){var t=o.detectObjectSelectedOrNot(e);if(t&&o.state.selectedObjInfo.name===t.name)"plain1"===t.name&&o.selectedObjectPaintedOrNot(o.mesh1,!1);else if(t&&o.state.selectedObjInfo.name!==t.name){"plain1"===t.name?(o.selectedObjectPaintedOrNot(o.mesh1,!0),o.selectedObjectPaintedOrNot(o.mesh2,!1)):(o.selectedObjectPaintedOrNot(o.mesh1,!1),o.selectedObjectPaintedOrNot(o.mesh2,!0));var n={name:t.name,type:t.type,position:{x:t.position.x,y:t.position.y,z:t.position.z},scale:{width:t.geometry.parameters.width,height:t.geometry.parameters.height,depth:t.geometry.parameters.depth?t.geometry.parameters.depth:0}};o.setState({selectedObjInfo:n})}else{o.selectedObjectPaintedOrNot(o.mesh1,!1),o.selectedObjectPaintedOrNot(o.mesh2,!1),o.setState({selectedObjInfo:{name:null,type:null,position:null,scale:null}})}console.log(t)},o.detectObjectSelectedOrNot=function(e){var t=new u.m,n=new u.p;o.rect=o.mount.getBoundingClientRect(),n.x=(e.clientX-o.rect.left)/o.mount.clientWidth*2-1,n.y=-(e.clientY-o.rect.top)/o.mount.clientHeight*2+1,t.setFromCamera(n,o.camera1);var a=t.intersectObjects(o.scene.children);if(!(a.length>0))return null;for(var i=0;i<a.length;i++)if("Mesh"==a[i].object.type)return a[i].object},o.getBoxesState=function(e){o.frontView&&o.resizeFrontView()},o.returnRotation=function(e){switch(e.ID){case 1:o.state.rotationMesh1!==e.values&&o.setState({rotationMesh1:e.values});break;case 2:o.state.rotationMesh2!==e.values&&o.setState({rotationMesh2:e.values})}},o.state={frontViewSize:{w:null,h:null},sideViewSize:{w:null,h:null},topViewSize:{w:null,h:null},rotationMesh1:{x:.01,y:0,z:0},rotationMesh2:{x:0,y:.01,z:0},selectedObjInfo:{name:null,type:null,position:null,scale:null},showContainer:null},o}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.deployState();this.camera1=new u.j(100,2.4,.1,1e3),this.scene=new u.n,this.camera1.position.set(-20,20,20),this.scene.background=new u.a(15790320),this.createPlane(1,20,20,"chocolate",new u.q(-20,10,0),new u.c(0,-90*u.g.DEG2RAD,0)),this.createPlane(2,10,10,"chocolate",new u.q(20,10,0),new u.c(0,-90*u.g.DEG2RAD,0)),this.renderer=new u.r,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(1920,800),this.mainBody.appendChild(this.renderer.domElement),this.sceneGrid=new u.e(50,50),this.scene.add(this.sceneGrid),this.camera2=new u.j(70,1,.1,1e3),this.camera2.position.z=20,this.camera2.position.x=0,this.camera2.position.y=1,this.camera2.lookAt(0,0,0),this.renderer2=new u.r,this.renderer2.setClearColor(15658734,1),this.camera3=new u.j(70,1,.1,1e3),this.camera3.position.z=0,this.camera3.position.x=-20,this.camera3.position.y=1,this.camera3.lookAt(0,0,0),this.renderer3=new u.r,this.renderer3.setClearColor(15658734,1),this.camera4=new u.j(70,1,.1,1e3),this.camera4.position.z=0,this.camera4.position.x=0,this.camera4.position.y=20,this.camera4.lookAt(0,0,0),this.renderer4=new u.r,this.renderer4.setClearColor(15658734,1),this.cameraControl1=new b(this.camera1,this.renderer.domElement),this.animate()}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentWillUnmount",value:function(){}},{key:"selectedObjectPaintedOrNot",value:function(e,t){t?e.material.color.set(1300287):e.material.color.set(255)}},{key:"render",value:function(){var e=this;console.log("DemoApp render");return Object(r.jsx)("div",{ref:function(t){e.mainBody=t},style:{width:"100%",height:"100%",borderTop:"1px solid black",borderBottom:"1px solid black"}})}}]),n}(o.Component));s.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(g,{})}),document.getElementById("root")),c()}},[[22,1,2]]]);
//# sourceMappingURL=main.ce8adca1.chunk.js.map